<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="../bootstrap3/css/bootstrap.css" />
</head>
<body ng-app="">
	<div class="container" ng-controller="cartController">
		<table class="table" ng-show="carts.length">
			<tr>
				<th>产品编号</th>
				<th>产品名字</th>
				<th>购买数量</th>
				<th>产品单价</th>
				<th>产品总价</th>
				<th>操作</th>
			</tr>
			<tr ng-repeat="cart in carts">
				<td>{{cart.pId}}</td>
				<td>{{cart.pName}}</td>
				<td>
					<button type="button" class="btn btn-primary" ng-click=reduce(cart.pId)>-</button>
					<input type="text" ng-model="cart.pnum">
					<button type="button" class="btn btn-primary" ng-click=add(cart.pId)>+</button>
				</td>
				<td>{{cart.price}}</td>
				<td>{{cart.price * cart.pnum}}</td>
				<td>
					<button type="button" class="btn btn-danger" ng-click=del(cart.pId)>删除</button>
				</td>
			</tr>
			<tr>
				<td>总购买价:</td>
				<td>{{sum()}}</td>
				<td>总购买数</td>
				<td>{{total()}}</td>
				<td colspan='2'>
					<button type="button" class="btn btn-danger" ng-click=destory()>清空购物车</button>
				</td>
				<p ng-show="!carts.length">购物车已清空</p>
			</tr>
		</table>
	</div>
	

	<script src="../angular-1.2.18/angular.js"></script>
	<script src="./app/cart.js"></script>
</body>
</html>